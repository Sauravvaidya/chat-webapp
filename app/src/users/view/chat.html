<div flex layout="row">
    <!-- list of friends that the logged in user has -->
    <md-sidenav md-is-locked-open="$mdMedia('gt-sm')" flex-order="2" class="md-whiteframe-z2" md-component-id="left">
      <md-list>
        <md-item ng-repeat="it in ul.users">
            <md-button ng-click="ul.selectUser(it)" ng-class="{'selected' : it === ul.selected }">
              <md-icon md-svg-icon="{{it.avatar}}" class="avatar"></md-icon>
              {{it.name}}
            </md-button>
        </md-item>
      </md-list>
    </md-sidenav>

    <!-- messages written to the logged in user -->
    <md-content id="content" flex-order="1">
      <md-list>
        <md-item ng-repeat="ucm in ul.userChatMessages track by $index">
          <md-item-content>
            <div>
              <h4>Message from {{ucm.from}} : {{ucm.message}}</h4>
            </div>
          </md-item-content>
        </md-item>
      </md-list>

      <!-- list of friends that logged in user can write to -->
      <div layout="row">
        <md-select ng-model="ul.user.sendTo" placeholder="To">
          <md-option ng-value="it.name" ng-repeat="it in ul.users">{{ it.name }}</md-option>
        </md-select>
      </div>

      <!-- messages that the logged in user writes to his friends -->
      <div layout="row">
        <md-input-container>
          <label>Type your message here:</label>
          <input type="text" ng-model="ul.user.message" required>
        </md-input-container>

        <md-button ng-click="ul.userSendMessage()">Send</md-button>
      </div>
    </md-content>

    <md-content flex-order="3" id="content">
<!--           <md-icon md-svg-icon="{{ul.selected.avatar}}" class="avatar"></md-icon>
      <h2>{{ul.selected.name}}</h2> -->

      <md-list>
        <md-item ng-repeat="cm in ul.chatMessages track by $index">
          <md-item-content>
            <div>
              <span>
                <h4 ng-if="cm.from">Message from {{cm.from}} :</h4>
                <h4>{{cm.message}}</h4>
              </span>
            </div>
          </md-item-content>
        </md-item>
      </md-list>

      <div layout="row">
        <md-input-container>
          <label>Type your message here:</label>
          <input type="text" ng-model="ul.selected.message" required>
        </md-input-container>

        <md-button ng-click="ul.sendMessage()">Send</md-button>
      </div>

<!--           <md-button class="share" md-no-ink ng-click="ul.share($event)" aria-label="Share">
        <md-icon md-svg-icon="share"></md-icon>
      </md-button> -->
    </md-content>

</div>